import{j as e,u as y,b as r,f as N,g as E,l as S,h as L,L as k}from"./index-C-3fXsNk.js";import{v as i}from"./formValidator-Jzx2fgUq.js";function C(){return e.jsx("div",{className:"loader2"})}function q(){const f=y(),[n,l]=r.useState(!1),[c,m]=r.useState(""),{isLoading:g,isError:u,isSuccess:p,errorMessage:x}=N(t=>t.auth),o=E(),[s,b]=r.useState({email:"",password:""}),[a,d]=r.useState({email:"",password:""}),h=t=>{const{name:v,value:j}=t.target;b({...s,[v]:j}),s.email&&d({...a,email:i("email",s.email)}),s.password&&d({...a,password:i("required",s.password)}),l(!1)},w=t=>{t.preventDefault(),d({...a,email:i("email",s.email),password:i("required",s.password)}),l(!0)};return r.useEffect(()=>{n&&!a.email&&!a.password&&s.email&&s.password&&o(S(s))},[s,a,o,n]),r.useEffect(()=>{u&&(m(x.message),l(!1),o(L()))},[u,x,o]),r.useEffect(()=>{p&&(window.location.reload(),m(""),l(!1))},[p,f]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-screen bg-gradient-to-r from-[#2d1525] to-background flex flex-col justify-center",children:e.jsxs("div",{className:"relative py-3 sm:max-w-xl sm:mx-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secondary to-primary shadow-lg transform -skew-y-6 sm:skew-y-0 sm:-rotate-6 sm:rounded-3xl"}),e.jsx("div",{className:"relative md:w-[30rem] bg-text shadow-lg rounded-3xl p-10",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-semibold",children:"Login"})}),c&&e.jsx("div",{className:"w-full bg-red-100 flex items-center justify-center p-1 h-6 mt-3 rounded-md text-red-600",children:g?e.jsx(C,{}):e.jsx("small",{className:"",children:c})}),e.jsx("div",{className:"divide-y divide-gray-200",children:e.jsxs("div",{className:"py-4 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"email",name:"email",value:s.email,onChange:h,className:"peer placeholder-transparent outline-none h-10 w-full bg-text border-0 border-b-2 border-gray-300 text-gray-900 focus:outline-none focus:border-b-2 focus:ring-0",placeholder:"Email address"}),a.email&&e.jsx("small",{className:"text-red-700",children:a.email}),e.jsx("label",{className:"absolute left-0 -top-3.5 text-gray-600 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Email"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:"password",value:s.password,onChange:h,className:"peer placeholder-transparent outline-none h-10 w-full border-b-2 bg-text border-0 border-gray-300 text-gray-900 focus:outline-none focus:border-b-2 focus:ring-0",placeholder:"Password"}),a.password&&e.jsx("small",{className:"text-red-700",children:a.password}),e.jsx("label",{className:"absolute left-0 -top-3.5 text-gray-600 text-sm peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-440 peer-placeholder-shown:top-2 transition-all peer-focus:-top-3.5 peer-focus:text-gray-600 peer-focus:text-sm",children:"Password"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:w,className:"bg-secondary mt-3 mb-2 text-white rounded-md w-full py-1",children:"Submit"}),e.jsx(k,{to:"/signup",children:e.jsx("small",{className:"text-blue-500 cursor-pointer hover:underline",children:"create account?"})})]})]})})]})})]})})})}export{q as default};
